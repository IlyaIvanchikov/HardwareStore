!function(e){var n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="/",r(r.s=14)}([function(e,n){e.exports=require("path")},function(e,n){e.exports=require("express")},function(e,n){e.exports=require("core-js/modules/es.array.join")},function(e,n){e.exports=require("core-js/modules/es.object.to-string")},function(e,n){e.exports=require("core-js/modules/es.promise")},function(e,n){e.exports=require("regenerator-runtime/runtime")},function(e,n){e.exports=require("body-parser")},function(e,n){e.exports=require("core-js/modules/es.regexp.exec")},function(e,n){e.exports=require("core-js/modules/es.string.search")},function(e,n){e.exports=require("core-js/modules/es.array.find")},function(e,n){e.exports=require("core-js/modules/es.date.to-json")},function(e,n){e.exports=require("core-js/modules/es.object.define-property")},function(e,n){e.exports=require("core-js/modules/web.url.to-json")},function(e,n){e.exports=require("fs")},function(e,n,r){"use strict";r.r(n);r(2),r(3),r(4),r(7),r(8),r(5);var t=r(0),o=r.n(t),i=r(1),s=r.n(i),u=r(6),a=r.n(u);r(9),r(10),r(11),r(12);function c(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var l=r(0),f=r(13),p=function(){function e(n,r){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.log=n,this.pass=r}var n,r,t;return n=e,t=[{key:"allInfo",value:function(){return new Promise((function(e,n){f.readFile(l.join(__dirname,"data","users.json"),"utf-8",(function(r,t){r?n(r):e(JSON.parse(t))}))}))}},{key:"allInfoUser",value:function(){return new Promise((function(e,n){f.readFile(l.join(__dirname,"data","user.json"),"utf-8",(function(r,t){r?n(r):e(JSON.parse(t))}))}))}}],(r=[{key:"toJSON",value:function(){return{log:this.log,pass:this.pass}}},{key:"save",value:function(){var n;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(e.allInfo());case 2:return(n=r.sent).push(this.toJSON()),r.abrupt("return",new Promise((function(e,r){f.writeFile(l.join(__dirname,"data","users.json"),JSON.stringify(n),(function(t){t?r(t):e(n)}))})));case 5:case"end":return r.stop()}}),null,this)}},{key:"search",value:function(){var n,r,t=this;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,regeneratorRuntime.awrap(e.allInfo());case 2:return n=o.sent,r=n.find((function(e){return e.log===t.log&&e.pass===t.pass})),o.abrupt("return",r);case 5:case"end":return o.stop()}}))}},{key:"userSave",value:function(){var n;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(e.allInfoUser());case 2:return(n=r.sent).pop(),n.push(this.toJSON()),r.abrupt("return",new Promise((function(e,r){f.writeFile(l.join(__dirname,"data","user.json"),JSON.stringify(n),(function(t){t?r(t):e(n)}))})));case 6:case"end":return r.stop()}}),null,this)}}])&&c(n.prototype,r),t&&c(n,t),e}(),d=a.a.urlencoded({extended:!1}),m=s()(),g=__dirname,y=o.a.join(g,"page","index.html"),h=o.a.join(g,"page","delivery.html"),x=o.a.join(g,"page","payment.html"),v=o.a.join(g,"page","inlog.html"),j=o.a.join(g,"page","pbi.html"),b=o.a.join(g,"page","company.html"),w=o.a.join(g,"page","register.html");m.use(s.a.static(g)),m.get("/",(function(e,n){n.sendFile(y)})),m.get("/index.html",(function(e,n){n.sendFile(y)})),m.get("/delivery.html",(function(e,n){n.sendFile(h)})),m.get("/payment.html",(function(e,n){n.sendFile(x)})),m.get("/company.html",(function(e,n){n.sendFile(b)})),m.get("/pbi.html",(function(e,n){n.sendFile(j)})),m.get("/register.html",(function(e,n){n.sendFile(w)})),m.get("/inlog.html",(function(e,n){n.sendFile(v)})),m.post("/register",d,(function(e,n){var r;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.body||n.sendStatus(400),r=new p(e.body.log,e.body.pass),t.next=4,regeneratorRuntime.awrap(r.save());case 4:n.redirect("index.html");case 5:case"end":return t.stop()}}))})),m.post("/inlog",d,(function(e,n){var r;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.body||n.sendStatus(400),r=new p(e.body.log,e.body.pass),t.next=4,regeneratorRuntime.awrap(r.search());case 4:if(!t.sent){t.next=11;break}return t.next=8,regeneratorRuntime.awrap(r.userSave());case 8:n.redirect("index.html"),t.next=12;break;case 11:n.redirect("inlog.html");case 12:case"end":return t.stop()}}))}));var O=process.env.PORT||8080;m.listen(O,(function(){console.log("App listening to ".concat(O,"....")),console.log("Press Ctrl+C to quit.")}))}]);